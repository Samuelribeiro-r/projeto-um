<%- include('../partials/header') %>

<main class="container d-flex flex-column flex-fill justify-content-center">
<h1 class="text-center"> Pagina De Edição </h1>

<!-- Criando um formulario para envio de informações -->
<form action="/produtos/<%= produto.id %>" method="POST">
    <div class="mb-3">
        <!-- Caixinha de nome de usuarios -->
    <label for="inputNome" class="form-label fs-2 mt-2">
        Nome do Produto 
    </label>
    <input type="nome"
    id="inputNome"
    class="form-control form-control-lg"
    placeholder="Digite o nome do produto"  
    name="nome"
    required
    value="<%= produto.nome %>"
    
    >


 <label for="inputDescricao" class="form-label fs-2 mt-2"> Descrição </label>
  <input type="descricao"
    id="inputDescricao"
    class="form-control form-control-lg"
    placeholder="Digite a descrição do produto"  
    name="descricao"
    required
    value="<%= produto.descricao %>"
    />

<div class="row g-3">

 <div class="col-md-6">
<label class="form-label fs-2 mt-2"> categoria </label>
      <select name="categoria" class="form-select form-select-lg mb-3" >
        <option value="Alimentos" <%= produto.categoria === "Alimentos" ? "selected" : "" %>> 
            Alimentos
        </option>
        <option value="Bebidas" <%= produto.categoria === "Bebidas" ? "selected" : "" %>> 
            Bebidas
        </option>
        <option value="Eletronicos" <%= produto.categoria === "Eletronicos" ? "selected" : "" %>> 
            Eletronicos 
        </option>
      </select>

 </div>
 
  <div class="col-md-6">
 <label for="InputImagem" class="form-label fs-2 mt-2"> Imagem de produto </label>
   <input type="url"
    id="inputImagem"
    class="form-control form-control-lg"
    placeholder="Digite a link da imagem do produto"  
    name="imagem"
    required
    value="<%= produto.imagem %>"
/>
     
    </div>
  </div>
</div>

<div class="row g-3">
  <div class="col-md-6">

  <label for="InputPreco" class="form-label fs-2"> Preço </label>
   <input type="number"
  
    id="inputPreco"
    class="form-control form-control-lg"
    placeholder="Digite o preço do produto"  
    name="preco"
    required
    value="<%= produto.preco %>"
    />
  
<label for="InputQuantidade" class="form-label fs-2 mt-2"> Quantidade de produtos </label>
   <input type="quantidade"
    id="inputQuantidade"
    class="form-control form-control-lg"
    placeholder="Digite a quantidade do produto"  
    name="quantidade"
    required
    value="<%= produto.quantidade %>"
    />
  </div>

<div class="col-md-6">
   
    <img
     src="<%= produto.imagem %>" 
      id="previewImagem"
      class="d-flex mx-auto mt-3" 
      width="86%" 
      height="300px">
  
 </div>
</div>

 <div class="row g-3">

 </div>

      <button type="submit" class="btn btn-lg btn-primary">
        Editar
      </button>
  </div>
 </form>

 
 <!-- Codigo para imagem ser alterada de acordo com o que a pessoa colocar -->
 <script>
 // variavel para acessar o input da imagem 
  const inputImagem = document.getElementById("inputImagem");
// variavel para acessar a imagem
  const previewImagem = document.getElementById("previewImagem");
// variavel para imagem padrao, caso a pessoa nao coloque nada
  const ImagemPadrao = "https://www.google.com/url?sa=i&url=https%3A%2F%2Fblog.autocompara.com.br%2Fcarros-esportivos%2F&psig=AOvVaw2_yCiAGl7zKkBemsfsaX3J&ust=1760550650857000&source=images&cd=vfe&opi=89978449&ved=0CBUQjRxqFwoTCMiuxMKhpJADFQAAAAAdAAAAABAE"

// Evento é disparado o usuario coloca algo da caixinha
  inputImagem.addEventListener("input", ( ) => {
// Guarda o que a pessoa colocou na caixinha da variavel da url
    const url = inputImagem.value
// troca o valor de src da imagem , pelo que o usuario digitou na caixinha 
    previewImagem.src = url || ImagemPadrao;
  });
 </script>
</main>

<%- include('../partials/footer') %>